members: 5
quantiles: &quantiles 4
out_keys:
  expver: '0001'
  type: "pb"
  numberOfForecastsInEnsemble: *quantiles
parameters:
  2t:
    defs:
      base_keys: &base_keys_2t
        class: od
        domain: g
        expver: '0001'
        levtype: sfc
        date: 20231103
        time: 00
        param: 167
        stream: enfo
    num_quantiles: *quantiles
    sources:
      fdb:
        ens:
          - <<: *base_keys_2t
            type: cf
          - <<: *base_keys_2t
            type: pf
    windows:
      - periods:
        - range:
          - 0
          - 6
          - 3
    targets:
      out_quantiles: "fileset:cascade_quantiles_{param}.grib"
  tp:
    defs:
      base_keys: &base_keys_tp
        class: od
        domain: g
        expver: '0001'
        levtype: sfc
        date: 20231103
        time: 00
        param: 228
        stream: enfo
    num_quantiles: *quantiles
    sources:
      fdb:
        ens:
          - <<: *base_keys_tp
            type: cf
          - <<: *base_keys_tp
            type: pf
    windows:
      - window_operation: diff
        include_start_step: True
        grib_set:
          stepType: diff
          paramId: 200228
        periods:
          - range:
            - 0
            - 6
            - 6
          - range:
            - 3
            - 9
            - 6
    targets:
      out_quantiles: "fileset:cascade_quantiles_{param}.grib"